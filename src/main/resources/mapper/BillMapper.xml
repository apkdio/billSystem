<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD usermap.userMapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bill.mapper.billMapper">
    <insert id="makeBill">
        insert into bill_inf(name, money, time, comment, type)
        VALUES (#{name}, #{money}, #{date}, #{comment}, #{type})
    </insert>
    <select id="billNumber" resultType="int">
        select count(*) from bill_inf where name = #{name}
    </select>
    <select id="allBill" resultType="bill">
        select * from bill_inf where name = #{name} limit #{start},#{end}
    </select>
    <select id="selectBillById" resultType="bill">
        select * from bill_inf where bill_id = #{id}
    </select>
    <select id="findAllMoney" resultType="java.lang.Double">
        select COALESCE(SUM(money), 0)
        from bill_inf
        where name = #{name}
          and type = #{type}
    </select>
    <delete id="deleteBillById">
        delete from bill_inf where bill_id = #{id}
    </delete>
    <update id="updateBillById">
        update bill_inf set money = #{money},time = #{date},comment=#{comment},type=#{type}
        where bill_id = #{id}
    </update>

</mapper>